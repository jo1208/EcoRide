{% extends 'base.html.twig' %}

{% block title %}Mes Véhicules
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<h2 class="mb-4">Mes Véhicules</h2>

		{% for voiture in voitures %}
			<div class="card mb-3 shadow-sm">
				<div class="card-body d-flex justify-content-between align-items-center">
					<div>
						<h5 class="card-title">{{ voiture.modele }}</h5>
						<p class="card-text mb-1">
							<strong>Immatriculation :</strong>
							{{ voiture.immatriculation }}</p>
						<p class="card-text mb-1">
							<strong>Couleur :</strong>
							{{ voiture.couleur }}</p>
						<p class="card-text mb-1">
							<strong>Date immatriculation :</strong>
							{{ voiture.datePremiereImmatriculation|date('d/m/Y') }}</p>
						<p class="card-text mb-0">
							<strong>Écologique :</strong>
							{{ voiture.ecologique ? 'Oui ✅' : 'Non ❌' }}</p>
					</div>

					<div class="text-end">
						<a href="{{ path('app_voiture_edit', { id: voiture.id }) }}" class="btn btn-primary btn-sm mb-2">Modifier</a>

						<form method="post" action="{{ path('app_voiture_delete', { id: voiture.id }) }}" onsubmit="return confirm('Confirmer la suppression ?');">
							<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ voiture.id) }}">
							<button class="btn btn-danger btn-sm">Supprimer</button>
						</form>
					</div>
				</div>
			</div>
		{% else %}
			<p class="text-muted">Vous n'avez encore enregistré aucun véhicule.</p>
		{% endfor %}

		<div class="mt-4 text-center">
			<a href="{{ path('app_voiture_add') }}" class="btn btn-success">
				➕ Ajouter un véhicule
			</a>
		</div>
	</div>
{% endblock %}

