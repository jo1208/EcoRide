{% extends 'base.html.twig' %}

{% block title %}Mon Profil
{% endblock %}

{% block body %}
{% include 'profil/_profil_layout.html.twig' %}

	<div class="container py-5" style="max-width: 700px;">
		<div class="bg-white p-4 rounded shadow-sm border border-success-subtle" style="background-color: #FBF8F7;">
			<h2 class="text-center mb-4 text-success">Modifier mes préférences</h2>

			{% for message in app.flashes('success') %}
				<div class="alert alert-success text-center">
					{{ message }}
				</div>
			{% endfor %}

			<script>
				setTimeout(function () {
                const alert = document.querySelector('.alert');
                if (alert) {
                alert.classList.remove('show');
                alert.classList.add('fade');
                setTimeout(() => alert.remove(), 300);
                }
                }, 3000);
			</script>

			{{ form_start(form) }}
			<div class="form-check mb-3">
				{{ form_widget(form.fumeur, {'attr': {'class': 'form-check-input'}}) }}
				{{ form_label(form.fumeur, null, {'label_attr': {'class': 'form-check-label ms-2'}}) }}
			</div>
			<div class="form-check mb-3">
				{{ form_widget(form.animal, {'attr': {'class': 'form-check-input'}}) }}
				{{ form_label(form.animal, null, {'label_attr': {'class': 'form-check-label ms-2'}}) }}
			</div>
			<div class="form-check mb-3">
				{{ form_widget(form.musique, {'attr': {'class': 'form-check-input'}}) }}
				{{ form_label(form.musique, null, {'label_attr': {'class': 'form-check-label ms-2'}}) }}
			</div>
            <div class="mb-3">
                {{ form_label(form.autres) }}
                {{ form_widget(form.autres, {'attr': {'class': 'form-control'}}) }}
            </div>

			<div class="text-center mt-4">
				<button type="submit" class="btn btn-success px-4">Enregistrer</button>
				<a href="{{ path('app_preference') }}" class="btn btn-outline-secondary ms-2">Annuler</a>
			</div>

			{{ form_end(form) }}
		</div>
	</div>
{% endblock %}

