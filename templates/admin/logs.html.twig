{% extends 'admin/index.html.twig' %}

{% block admin_content %}
<h3 class="mb-4 text-center">üõ°Ô∏è Historique des connexions</h3>

<div class="d-none d-md-block table-responsive">
	<table class="table table-striped table-bordered align-middle">
		<thead class="table-success">
			<tr>
				<th>ID Utilisateur</th>
				<th>Email</th>
				<th>Adresse IP</th>
				<th>Statut</th>
				<th>Horodatage</th>
			</tr>
		</thead>
		<tbody>
			{% for log in pagination %}
				<tr>
					<td>{{ log.userId }}</td>
					<td>{{ log.username }}</td>
					<td>{{ log.ip }}</td>
					<td>
						{% if log.success %}
							<span class="badge bg-success">Succ√®s</span>
						{% else %}
							<span class="badge bg-danger">√âchec</span>
						{% endif %}
					</td>
					<td>{{ log.timestamp|date('d/m/Y H:i:s') }}</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="5" class="text-center text-muted">Aucun log trouv√©.</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
</div>


<div class="d-md-none">
	{% for log in pagination %}
		<div class="log-card">
			<p>
				<strong>ID Utilisateur :</strong>
				{{ log.userId }}</p>
			<p>
				<strong>Email :</strong>
				{{ log.username }}</p>
			<p>
				<strong>IP :</strong>
				{{ log.ip }}</p>
			<p>
				<strong>Statut :</strong>
				{% if log.success %}
					<span class="badge bg-success">Succ√®s</span>
				{% else %}
					<span class="badge bg-danger">√âchec</span>
				{% endif %}
			</p>
			<p>
				<strong>Date :</strong>
				{{ log.timestamp|date('d/m/Y H:i:s') }}</p>
		</div>
	{% else %}
		<p class="text-muted text-center mt-3">Aucun log trouv√©.</p>
	{% endfor %}
</div>

<div class="d-flex justify-content-center mt-4">
	{{ knp_pagination_render(pagination) }}
</div>


{% endblock %}

